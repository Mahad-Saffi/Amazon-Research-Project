<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon Product Research - SEO Optimization</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üîç Amazon Product Research & SEO Optimization</h1>
            <p>AI-powered keyword research and listing optimization for Amazon sellers</p>
        </div>

        <!-- Input Form Card -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">
                    <span>üìÅ</span> Upload Research Data
                </div>
                <div class="card-description">
                    Upload your keyword CSV files and enter product ASIN
                </div>
            </div>
            <div class="card-content">
                <form id="researchForm">
                    <div class="form-group">
                        <label for="designCsv">Design CSV File *</label>
                        <input type="file" id="designCsv" accept=".csv" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="revenueCsv">Revenue CSV File *</label>
                        <input type="file" id="revenueCsv" accept=".csv" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="asinUrl">Amazon ASIN or URL *</label>
                        <input type="text" id="asinUrl" placeholder="e.g., B08544GH5F or https://www.amazon.com/dp/B08544GH5F" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="marketplace">Marketplace</label>
                        <select id="marketplace">
                            <option value="US">United States (US)</option>
                            <option value="UK">United Kingdom (UK)</option>
                            <option value="CA">Canada (CA)</option>
                            <option value="DE">Germany (DE)</option>
                            <option value="FR">France (FR)</option>
                            <option value="IT">Italy (IT)</option>
                            <option value="ES">Spain (ES)</option>
                            <option value="JP">Japan (JP)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="includeSeoOptimization" checked>
                            Include SEO Optimization
                        </label>
                        <div style="font-size: 13px; color: #64748b; margin-top: 4px;">
                            Generates optimized title and bullet points with high-volume keywords
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="rankThreshold">Rank Threshold</label>
                        <input type="number" id="rankThreshold" value="11" min="1" max="100" style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px;">
                        <div style="font-size: 13px; color: #64748b; margin-top: 4px;">
                            B0 column values below this threshold count as relevant (default: 11)
                        </div>
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="useDirectVerification">
                            Use Direct Verification
                        </label>
                        <div style="font-size: 13px; color: #64748b; margin-top: 4px;">
                            Scrape each irrelevant keyword individually for verification
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="useMock">
                            Use Mock Scraper (Testing)
                        </label>
                    </div>
                    
                    <button type="submit" id="submitBtn" class="button primary" style="width: 100%; justify-content: center;">
                        <span>üöÄ</span> Start Analysis
                    </button>
                </form>
            </div>
        </div>

        <!-- Loading State -->
        <div class="card loading" id="loading">
            <div class="card-header">
                <div class="card-title">
                    <span class="spinner"></span> Processing Your Research
                </div>
                <div class="card-description">
                    Our AI agents are analyzing your keywords and competitors...
                </div>
            </div>
            <div class="card-content">
                <div class="progress-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <span class="progress-message" id="progressMessage">Starting...</span>
                        <span class="progress-percent" id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar-wrapper">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error Message -->
        <div class="error" id="error"></div>

        <!-- Results Container -->
        <div class="results" id="results">
            <!-- Results Header Card -->
            <div class="card" id="resultsHeader"></div>

            <!-- Tabs -->
            <div class="tabs" id="tabs">
                <button class="tab-button active" data-tab="seo">SEO Optimization</button>
                <button class="tab-button" data-tab="roots">Root Keywords</button>
                <button class="tab-button" data-tab="keywords">Keyword Analysis</button>
            </div>

            <!-- Tab Content -->
            <div id="tabContent"></div>
        </div>
    </div>

    <script src="/static/script_modern.js"></script>
</body>
</html>
